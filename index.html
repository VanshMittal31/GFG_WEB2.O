<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>E-Commerce Store</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-900 text-white">

  <!-- Navbar -->
  <div id="navbar"></div>
  
  <!-- Content Area (Home, Shop, Contact) -->
  <div id="content"></div>
  
  <!-- Footer -->
  <div id="footer"></div>

  <!-- Cart Popup Modal -->
  <div id="cart-popup" class="fixed inset-0 bg-gray-800 bg-opacity-75 flex justify-center items-center z-50 hidden">
    <div class="bg-gray-900 p-8 rounded-xl w-11/12 md:w-1/3">
      <h3 class="text-2xl font-extrabold text-white mb-4">Your Cart</h3>
      <div id="cart-content" class="space-y-4"></div>
      <div class="mt-6 text-center">
        <p id="total-amount" class="text-lg text-white mb-4">Total: $0.00</p>
        <div class="flex justify-center space-x-4">
          <!-- Close Button -->
          <button onclick="closeCartPopup()" class="bg-red-500 hover:bg-red-700 text-white py-3 px-6 rounded-xl">Close</button>
          <!-- Buy Now Button -->
          <button onclick="buyNow()" class="bg-blue-800 hover:bg-blue-900 text-white py-3 px-6 rounded-xl">Buy Now</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Notification (Item Added to Cart) -->
  <div id="item-added-notification" class="fixed bottom-6 right-6 bg-green-500 text-white py-2 px-4 rounded-lg shadow-lg opacity-0 transform translate-x-full transition-all duration-300">
    Item added to cart!
  </div>

  <script>
    // Cart System
    let cart = [];

    // Function to render the Navbar
    function renderNavbar() {
      document.getElementById('navbar').innerHTML = `
        <nav class="bg-gray-800 text-white py-4 flex justify-center space-x-6">
          <a href="#/" class="hover:text-gray-400" onclick="navigateTo('/')">Home</a>
          <a href="#/contact" class="hover:text-gray-400" onclick="navigateTo('/contact')">Contact</a>
          <a href="javascript:void(0)" class="hover:text-gray-400" onclick="openCartPopup()">Cart (${cart.length})</a>
        </nav>
      `;
    }

    // Add item to cart
    function addToCart(product) {
      const existingProduct = cart.find(item => item.name === product.name);
      if (existingProduct) {
        existingProduct.quantity++;
      } else {
        cart.push({...product, quantity: 1});
      }
      renderNavbar();
      showItemAddedNotification();
    }

    // Show item added notification
    function showItemAddedNotification() {
      const notification = document.getElementById('item-added-notification');
      notification.classList.remove('opacity-0', 'translate-x-full');
      notification.classList.add('opacity-100', 'translate-x-0');

      // Hide notification after 3 seconds
      setTimeout(() => {
        notification.classList.remove('opacity-100', 'translate-x-0');
        notification.classList.add('opacity-0', 'translate-x-full');
      }, 3000);
    }

    // Open Cart Popup
    function openCartPopup() {
      const cartContent = cart.map(item => `
        <div class="flex justify-between items-center bg-gray-800 p-4 rounded-xl">
          <span class="text-lg text-white">${item.name} - $${item.price} x ${item.quantity}</span>
          <div class="flex items-center space-x-2">
            <button onclick="decreaseQuantity('${item.name}')" class="bg-gray-600 hover:bg-gray-800 text-white py-2 px-4 rounded-xl">-</button>
            <button onclick="increaseQuantity('${item.name}')" class="bg-gray-600 hover:bg-gray-800 text-white py-2 px-4 rounded-xl">+</button>
            <button onclick="removeFromCart('${item.name}')" class="bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-xl">X</button>
          </div>
        </div>
      `).join('');
      document.getElementById('cart-content').innerHTML = cartContent || '<p class="text-lg text-white">Your cart is empty!</p>';
      updateTotalAmount();
      document.getElementById('cart-popup').classList.remove('hidden');
    }

    // Close Cart Popup
    function closeCartPopup() {
      document.getElementById('cart-popup').classList.add('hidden');
    }

    // Increase quantity of a product
    function increaseQuantity(productName) {
      const product = cart.find(item => item.name === productName);
      if (product) {
        product.quantity++;
        renderNavbar();
        openCartPopup();  // Refresh the cart popup
      }
    }

    // Decrease quantity of a product
    function decreaseQuantity(productName) {
      const product = cart.find(item => item.name === productName);
      if (product && product.quantity > 1) {
        product.quantity--;
        renderNavbar();
        openCartPopup();  // Refresh the cart popup
      }
    }

    // Remove item from the cart
    function removeFromCart(productName) {
      cart = cart.filter(item => item.name !== productName);
      renderNavbar();
      openCartPopup(); // Refresh the cart popup
    }

    // Update total amount
    function updateTotalAmount() {
      const totalAmount = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
      document.getElementById('total-amount').textContent = `Total: $${totalAmount.toFixed(2)}`;
    }

    // Proceed to Buy Now (Placeholder function)
    function buyNow() {
      alert('Proceeding to checkout...');
      closeCartPopup();  // Close the cart popup
      // Add additional checkout logic here
    }

    // Combined Home and Shop page rendering
    function renderCombinedPage() {
      document.getElementById('content').innerHTML = `
<!-- Home Section (Banner) -->
<div class="relative w-full min-h-screen bg-gradient-to-b from-gray-700 to-gray-900 overflow-hidden rounded-xl">
  <!-- Background Image -->
  <div class="absolute inset-0 z-0 bg-cover bg-center" style="background-image: url('your-image-url.jpg');"></div>

  <!-- Welcome Content -->
  <div class="absolute inset-0 z-10 flex flex-col items-center justify-center text-white text-center px-6 md:px-12">
    <h1 class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-white drop-shadow-lg animate-pulse">
      Welcome to XCart
    </h1>
    <p class="mt-4 text-lg sm:text-xl lg:text-2xl drop-shadow-md max-w-xl mx-auto">
      Discover amazing products that suit your lifestyle. Shop now and enjoy exclusive offers!
    </p>
    <!-- Call to Action Button -->
    <div class="mt-8">
      <button onclick="scrollToShop()" class="bg-blue-800 hover:bg-blue-900 text-white py-3 px-6 rounded-xl shadow-lg text-lg transition-all duration-300 transform hover:scale-105">
        Start Shopping
      </button>
    </div>
  </div>

  <!-- Animated Background Effects -->
  <div class="absolute inset-0 bg-gradient-to-r from-gray-600 via-gray-700 to-gray-800 opacity-50 animate-pulse"></div>
</div>

<!-- Shop Section with ID -->
<div id="shop" class="container mx-auto py-16 px-6">
  <h2 class="text-5xl font-extrabold text-center mb-12 text-gray-900 drop-shadow-lg">Shop Our Products</h2>
  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
    ${[...Array(8)].map((_, index) => `
      <div class="bg-white shadow-2xl rounded-2xl p-6 transform hover:scale-105 transition duration-300">
        <img src="/product-${index + 1}.jpg" alt="Product" class="w-full h-48 object-cover rounded-xl" />
        <h3 class="text-xl font-bold mt-4 text-gray-800">Product ${index + 1}</h3>
        <p class="text-gray-600 mt-2 text-lg">$99.99</p>
        <div class="flex space-x-4 mt-6">
          <!-- Add to Cart Button (Black) -->
          <button onclick="addToCart({ name: 'Product ${index + 1}', price: 99.99 })" class="w-full bg-black hover:bg-gray-800 text-white py-3 rounded-xl shadow-md transform hover:scale-105 transition duration-300">Add to Cart</button>
          <!-- Buy Now Button (Darker Blue) -->
          <button onclick="addToCart({ name: 'Product ${index + 1}', price: 99.99 })" class="w-full bg-blue-800 hover:bg-blue-900 text-white py-3 rounded-xl shadow-md transform hover:scale-105 transition duration-300">Buy Now</button>
        </div>
      </div>
    `).join('')}
  </div>
</div>
      `;
    }

    // Contact Page Rendering
    function renderContactPage() {
      document.getElementById('content').innerHTML = `
<div class="container mx-auto py-16 px-6">
  <h2 class="text-4xl font-extrabold text-center text-white mb-12">Contact Us</h2>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-16">
    <!-- Contact Form -->
    <div class="space-y-6">
      <h3 class="text-2xl font-bold text-white">Send us a message</h3>
      <form action="#" method="POST" class="space-y-4">
        <input type="text" name="name" placeholder="Your Name" class="w-full bg-gray-800 text-white py-3 px-4 rounded-xl border-none focus:outline-none" required>
        <input type="email" name="email" placeholder="Your Email" class="w-full bg-gray-800 text-white py-3 px-4 rounded-xl border-none focus:outline-none" required>
        <textarea name="message" placeholder="Your Message" class="w-full bg-gray-800 text-white py-3 px-4 rounded-xl border-none focus:outline-none" required></textarea>
        <button type="submit" class="w-full bg-blue-800 text-white py-3 rounded-xl hover:bg-blue-900">Send Message</button>
      </form>
    </div>

    <!-- Contact Info -->
    <div class="space-y-6">
      <h3 class="text-2xl font-bold text-white">Our Information</h3>
      <ul class="text-white space-y-4">
        <li><strong>Address:</strong> 1234 E-Commerce St, Tech City</li>
        <li><strong>Email:</strong> support@xcart.com</li>
        <li><strong>Phone:</strong> (123) 456-7890</li>
      </ul>
      <div id="map" class="w-full h-64 bg-gray-800 rounded-xl"></div>
    </div>
  </div>
</div>
      `;
    }

    // Scroll to Shop Section
    function scrollToShop() {
      document.getElementById('shop').scrollIntoView({
        behavior: 'smooth'
      });
    }

    // Navigation handling
    function navigateTo(path) {
      window.location.hash = path;
      loadContent();
    }

    // Load content based on the URL hash
    function loadContent() {
      const path = window.location.hash.slice(1) || '/'; // Default to '/' if no hash
      if (path === '/') {
        renderCombinedPage();
      } else if (path === '/contact') {
        renderContactPage();
      } else {
        renderCombinedPage(); // Default to Home if path is not found
      }
    }

    // Initialize the app
    renderNavbar();
    loadContent(); // Initially load the content based on current hash
  </script>

</body>
</html>
